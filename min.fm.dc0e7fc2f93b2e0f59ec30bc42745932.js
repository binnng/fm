(function(){'use strict';var h=function(a,c){function d(b){this.media=b.media;this.currentTime=0;this.status="ready";this.f=b.start||e;this.c=b.b||e;this.h=b.g||e;this.a=b.end||b.stop||e;this.d=b.pause||e;g?g.end():g=this;return this}function e(){}var b=c.createElement("audio"),g=null;if(!b.canPlayType||!b.canPlayType("audio/mpeg"))return console.log("oh, I cant play in so low browser!");d.prototype.play=function(){var a=this;"paused"!=a.status&&(b.src=a.media);b.addEventListener("play",function(){a.f()});b.addEventListener("playing",
function(){a.status="playing"});b.addEventListener("waiting",function(){a.status="loading";a.c()});b.addEventListener("ended",function(){a.end();a.status="ended"});b.addEventListener("timeupdate",function(){a.currentTime=b.currentTime;a.duration=b.duration;a.h()});b.play();return a};d.prototype.end=function(){b.src=b.currentSrc;this.status="ended";this.a();return this};d.prototype.pause=function(){b.pause();this.status="paused";this.d();return this};return d}(window,document),k,l,m,n,q,r,s,t,u,w,
x,y;m=window;l=document;k=function(a){return document.getElementById(a)};q=0;s=[{cover:"images/cover.jpg",url:"statics/xlaq.mp3"}];t=[];l.getElementsByTagName("body")[0].innerHTML='<div id="view"><div id="canvas"><i id="progress"></i><div id="player"></div><img src="images/zSGhlXp4.gif" id="icon" /></div></div>';x=k("progress");w=k("player");r=k("icon");
n=function(){var a,c,d,e,b,g,p,v,f;f=function(){};v=0;a=null;b=function(){w.className="rotate";return r.className="show"};d=function(){};g=function(){return x.style.width=100*(this.currentTime/this.duration)+"%"};c=function(){x.style.width="0px";w.className="";r.className="";if(0===v)return v=setTimeout(function(){"ended"===f.status()&&f.next();return v=0},500)};e=function(){x.style.width="0px";w.className="";return r.className=""};p=function(){w.setAttribute("style","background-image: url("+s[q].cover+
");")};f.play=function(f){if(f)return a.play();a=new h({media:s[q].url,start:b,b:d,g:g,stop:c,pause:e});p();return a.play()};f.next=function(){q++;q>=s.length&&(q=0);return f.play()};f.e=function(){q--;0>q&&(q=s.length-1);f.play()};f.pause=function(){return a.pause()};f.status=function(){return a.status};return f}();n.play();u=function(){var a;a=n.status();return"playing"===a||"loading"===a?n.pause():n.play(!0)};
(function(a,c){var d,e,b;e=l.getElementsByTagName("head")[0]||l.body;b=l.createElement("script");d=!1;b.src=a;b.onload=b.onreadystatechange=function(){if(!d&&(!this.readyState||"loading"!==this.readyState))return d=!0,c&&c.apply(null),b.onload=b.onreadystatechange=null,e.removeChild(b)};return e.appendChild(b)})("statics/playlist.js",function(){var a,c,d,e,b,g,p;e=m.playList;for(a in e){d=e[a].data;c=d.cover;b=d.songs;g=0;for(p=b.length;g<p;g++)d=b[g],s.push({cover:c,url:d.url})}t=s.concat();return t.shift()});
w.onclick=u;l.onkeyup=function(a){var c;a=a||m.event;c=a.keyCode;32===c&&u();37===c&&n.e();39===c&&n.next();a=t.concat();65===c&&(s=a);68===c&&(s=a.reverse());if(83===c)return s=a.sort(function(){return Math.random()-0.5})};null!=(y=m.console)&&"function"===typeof y.log&&y.log("\u968f\u673as, \u987a\u5e8fa, \u5012\u5e8fd");})()
